[gd_scene load_steps=7 format=2]

[ext_resource path="res://Scripts/Map.gd" type="Script" id=1]
[ext_resource path="res://Scenes/Player Structures/Turrets/MachineGunTurret.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Player Structures/Base.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/Enemies/BaseEnemy.tscn" type="PackedScene" id=4]

[sub_resource type="NavigationPolygon" id=3]

[sub_resource type="GDScript" id=2]
script/source = "extends Node

var stop = false

func _process(_delta):
	if MapRefs.map && !stop:
		for e in get_children():
			MapRefs.map.add_enemy(e)
		stop = true
"

[node name="Test Map" type="Node2D"]
script = ExtResource( 1 )

[node name="PlayerCamera" type="Camera2D" parent="."]
position = Vector2( 1082, 198 )
current = true
zoom = Vector2( 2, 2 )

[node name="MapContent" type="Node" parent="."]

[node name="Terrain" type="StaticBody2D" parent="MapContent"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MapContent/Terrain"]
polygon = PoolVector2Array( -3, -8, 1, -491, 1641, -495, 1406, -285, 807, -84, 643, 35, 421, 71, 313, -33, 154, -54, 65, 18, 35, 170, 84, 391, 294, 549, 590, 594, 919, 361, 1158, 346, 1230, 441, 1305, 628, 1716, 816, 1762, 971, -1, 982 )

[node name="Navigation2D" type="Navigation2D" parent="MapContent"]

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="MapContent/Navigation2D"]
navpoly = SubResource( 3 )

[node name="PlayerStructures" type="Node" parent="."]

[node name="Base" parent="PlayerStructures" instance=ExtResource( 3 )]
position = Vector2( 248, 215 )

[node name="MachineGunTurret" parent="PlayerStructures" instance=ExtResource( 2 )]
position = Vector2( 750, 215 )
collision_layer = 1
collision_mask = 1

[node name="Player" type="Node" parent="."]

[node name="Enemies" type="Node" parent="."]
script = SubResource( 2 )

[node name="BaseEnemy" parent="Enemies" instance=ExtResource( 4 )]
position = Vector2( 920, 43 )

[node name="BaseEnemy2" parent="Enemies" instance=ExtResource( 4 )]
position = Vector2( 973, 190 )

[node name="BaseEnemy3" parent="Enemies" instance=ExtResource( 4 )]
position = Vector2( 1071, 49 )

[node name="BaseEnemy4" parent="Enemies" instance=ExtResource( 4 )]
position = Vector2( 1090, -106 )

[node name="BaseEnemy5" parent="Enemies" instance=ExtResource( 4 )]
position = Vector2( 839, 162 )

[node name="BaseEnemy6" parent="Enemies" instance=ExtResource( 4 )]
position = Vector2( 730, 111 )

[node name="UI" type="Node" parent="."]
